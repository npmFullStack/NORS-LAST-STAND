<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
        />
        <title>Nors' Last Stand - Loading</title>
        <style>
            @import url("https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Rubik+Wet+Paint&display=swap");

            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                background-color: black;

                height: 100vh;
                width: 100vw;
                overflow: hidden;
                display: flex;
                flex-direction: column;
                justify-content: space-between;
                align-items: center;
                font-family: "Rubik Wet Paint", cursive;
            }

            .title-container {
                text-align: center;
                margin-top: 5rem;
                text-shadow: 0.2rem 0.2rem 0.4rem rgba(0, 0, 0, 0.7);
            }

            .main-title {
                color: #6cb246;
                font-size: 4.5rem;
                -webkit-text-stroke: 0.15rem #2e5a1e;
                letter-spacing: 0.1rem;
                line-height: 1;
            }

            .sub-title {
                color: #d84040;
                font-size: 3rem;
                -webkit-text-stroke: 0.1rem #8e1616;
                margin-top: -0.5rem;
            }

            .loading-container {
                width: 80%;
                margin-bottom: 5rem;
                text-align: center;
            }

            .zombie-gif {
                width: 15rem;
                height: auto;
                margin-bottom: 2rem;
            }

            .loading-bar {
                width: 100%;
                height: 2rem;
                background-color: #3a0000;
                border-radius: 1rem;
                border: 0.15rem solid #000;
                overflow: hidden;
                position: relative;
                box-shadow: 0 0 1rem rgba(0, 0, 0, 0.5);
            }

            .loading-progress {
                position: absolute;
                height: 100%;
                width: 0%;
                background-color: #ff0000;
                background-image: linear-gradient(
                    to right,
                    #c21818,
                    #ff0000,
                    #c21818
                );
                transition: width 0.3s ease;
                border-radius: 0.8rem;
            }

            .loading-text {
                position: absolute;
                width: 100%;
                text-align: center;
                font-family: "DM Sans", sans-serif;
                font-weight: 700;
                color: white;
                -webkit-text-stroke: 0.05rem black;
                font-size: 1.2rem;
                line-height: 2rem;
                text-shadow: 0 0 0.5rem rgba(255, 0, 0, 0.7);
            }
        </style>
    </head>
    <body>
        <div class="title-container">
            <h1 class="main-title">NORS</h1>
            <h2 class="sub-title">LAST STAND</h2>
        </div>

        <div class="loading-container">
            <img src="assets/images/zombie.gif" class="zombie-gif" alt="Zombie" />
            <div class="loading-bar">
                <div class="loading-progress" id="progress"></div>
                <div class="loading-text" id="percentage">0%</div>
            </div>
        </div>

        <script>
            let progress = 0;
            const progressBar = document.getElementById("progress");
            const percentageText = document.getElementById("percentage");

            function updateLoading() {
                if (progress < 100) {
                    progress += Math.random() * 5 + 1;
                    if (progress > 100) progress = 100;

                    progressBar.style.width = `${progress}%`;
                    percentageText.textContent = `${Math.floor(progress)}%`;

                    // Faster at start, slower near completion
                    const delay = progress < 80 ? 100 : 200;
                    setTimeout(updateLoading, delay);
                } else {
                    // Loading complete - redirect to game.html after a brief pause
                    setTimeout(() => {
                        window.location.href = "game.html";
                    }, 500); // 0.5 second delay before redirect
                }
            }

            // Start loading animation
            setTimeout(updateLoading, 500);
        </script>
    </body>
</html>
